<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <meta name="generator" content="VuePress 2.0.0-beta.64">
    <style>
      :root {
        --c-bg: #fff;
      }
      html.dark {
        --c-bg: #22272e;
      }
      html, body {
        background-color: var(--c-bg);
      }
    </style>
    <script>
      const userMode = localStorage.getItem('vuepress-color-scheme');
			const systemDarkMode = window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches;
			if (userMode === 'dark' || (userMode !== 'light' && systemDarkMode)) {
				document.documentElement.classList.toggle('dark', true);
			}
    </script>
    <title>Resolving Lexer Errors | Chevrotain</title><meta name="description" content="Parser Building Toolkit for JavaScript">
    <link rel="preload" href="/docs/assets/style-7fd0cb76.css" as="style"><link rel="stylesheet" href="/docs/assets/style-7fd0cb76.css">
    <link rel="modulepreload" href="/docs/assets/app-2fd97b94.js"><link rel="modulepreload" href="/docs/assets/resolving_lexer_errors.html-3de10c48.js"><link rel="modulepreload" href="/docs/assets/resolving_lexer_errors.html-aed292ac.js"><link rel="prefetch" href="/docs/assets/FAQ.html-f3423198.js" as="script"><link rel="prefetch" href="/docs/assets/index.html-896a6a8c.js" as="script"><link rel="prefetch" href="/docs/assets/BREAKING_CHANGES.html-a1149c9a.js" as="script"><link rel="prefetch" href="/docs/assets/CHANGELOG.html-2e03b564.js" as="script"><link rel="prefetch" href="/docs/assets/backtracking.html-19b900b8.js" as="script"><link rel="prefetch" href="/docs/assets/blazing_fast.html-485aeaa4.js" as="script"><link rel="prefetch" href="/docs/assets/custom_errors.html-bf411bd7.js" as="script"><link rel="prefetch" href="/docs/assets/custom_token_patterns.html-ef7183a7.js" as="script"><link rel="prefetch" href="/docs/assets/easy_debugging.html-83ddba06.js" as="script"><link rel="prefetch" href="/docs/assets/fault_tolerance.html-140958af.js" as="script"><link rel="prefetch" href="/docs/assets/gates.html-c83ccffd.js" as="script"><link rel="prefetch" href="/docs/assets/grammar_inheritance.html-641e6ed9.js" as="script"><link rel="prefetch" href="/docs/assets/lexer_modes.html-1eba96df.js" as="script"><link rel="prefetch" href="/docs/assets/llk.html-6d79c49a.js" as="script"><link rel="prefetch" href="/docs/assets/multiple_start_rules.html-dfcd24c6.js" as="script"><link rel="prefetch" href="/docs/assets/parameterized_rules.html-3b610f54.js" as="script"><link rel="prefetch" href="/docs/assets/position_tracking.html-207bd75b.js" as="script"><link rel="prefetch" href="/docs/assets/regexp.html-3141132a.js" as="script"><link rel="prefetch" href="/docs/assets/separation.html-a5381edb.js" as="script"><link rel="prefetch" href="/docs/assets/syntactic_content_assist.html-5a092b35.js" as="script"><link rel="prefetch" href="/docs/assets/syntax_diagrams.html-758d5d36.js" as="script"><link rel="prefetch" href="/docs/assets/token_alternative_matches.html-c67f48c7.js" as="script"><link rel="prefetch" href="/docs/assets/token_categories.html-72109954.js" as="script"><link rel="prefetch" href="/docs/assets/token_grouping.html-227ce45f.js" as="script"><link rel="prefetch" href="/docs/assets/token_skipping.html-43397593.js" as="script"><link rel="prefetch" href="/docs/assets/concrete_syntax_tree.html-72eb8fa5.js" as="script"><link rel="prefetch" href="/docs/assets/custom_token_patterns.html-ef7a5b76.js" as="script"><link rel="prefetch" href="/docs/assets/generating_syntax_diagrams.html-8e9f9f84.js" as="script"><link rel="prefetch" href="/docs/assets/initialization_performance.html-6ef8c57f.js" as="script"><link rel="prefetch" href="/docs/assets/internals.html-c9113eeb.js" as="script"><link rel="prefetch" href="/docs/assets/introduction.html-3e8e8de4.js" as="script"><link rel="prefetch" href="/docs/assets/performance.html-c2761460.js" as="script"><link rel="prefetch" href="/docs/assets/resolving_grammar_errors.html-fdbe0a6b.js" as="script"><link rel="prefetch" href="/docs/assets/syntactic_content_assist.html-80eb9c47.js" as="script"><link rel="prefetch" href="/docs/assets/step0_introduction.html-f19df190.js" as="script"><link rel="prefetch" href="/docs/assets/step1_lexing.html-9496acc9.js" as="script"><link rel="prefetch" href="/docs/assets/step2_parsing.html-9995c101.js" as="script"><link rel="prefetch" href="/docs/assets/step3_adding_actions_root.html-70501179.js" as="script"><link rel="prefetch" href="/docs/assets/step3a_adding_actions_visitor.html-6a5ad177.js" as="script"><link rel="prefetch" href="/docs/assets/step3b_adding_actions_embedded.html-44e9f910.js" as="script"><link rel="prefetch" href="/docs/assets/step4_fault_tolerance.html-147bf6cb.js" as="script"><link rel="prefetch" href="/docs/assets/404.html-60b35caa.js" as="script"><link rel="prefetch" href="/docs/assets/FAQ.html-79d13458.js" as="script"><link rel="prefetch" href="/docs/assets/index.html-ee29353f.js" as="script"><link rel="prefetch" href="/docs/assets/BREAKING_CHANGES.html-01ff37c8.js" as="script"><link rel="prefetch" href="/docs/assets/CHANGELOG.html-b9cd6630.js" as="script"><link rel="prefetch" href="/docs/assets/backtracking.html-d33ec910.js" as="script"><link rel="prefetch" href="/docs/assets/blazing_fast.html-6599d3d2.js" as="script"><link rel="prefetch" href="/docs/assets/custom_errors.html-cd2cc05f.js" as="script"><link rel="prefetch" href="/docs/assets/custom_token_patterns.html-5d839827.js" as="script"><link rel="prefetch" href="/docs/assets/easy_debugging.html-29fd88e7.js" as="script"><link rel="prefetch" href="/docs/assets/fault_tolerance.html-73dbcff2.js" as="script"><link rel="prefetch" href="/docs/assets/gates.html-4e80724d.js" as="script"><link rel="prefetch" href="/docs/assets/grammar_inheritance.html-aa1bd657.js" as="script"><link rel="prefetch" href="/docs/assets/lexer_modes.html-363035d9.js" as="script"><link rel="prefetch" href="/docs/assets/llk.html-bbe83cac.js" as="script"><link rel="prefetch" href="/docs/assets/multiple_start_rules.html-87728527.js" as="script"><link rel="prefetch" href="/docs/assets/parameterized_rules.html-a6f50091.js" as="script"><link rel="prefetch" href="/docs/assets/position_tracking.html-6d175180.js" as="script"><link rel="prefetch" href="/docs/assets/regexp.html-35ee084b.js" as="script"><link rel="prefetch" href="/docs/assets/separation.html-fd44b875.js" as="script"><link rel="prefetch" href="/docs/assets/syntactic_content_assist.html-19993da6.js" as="script"><link rel="prefetch" href="/docs/assets/syntax_diagrams.html-1d584b67.js" as="script"><link rel="prefetch" href="/docs/assets/token_alternative_matches.html-60562d65.js" as="script"><link rel="prefetch" href="/docs/assets/token_categories.html-aa68275e.js" as="script"><link rel="prefetch" href="/docs/assets/token_grouping.html-6bc9fd0d.js" as="script"><link rel="prefetch" href="/docs/assets/token_skipping.html-ba2a43fc.js" as="script"><link rel="prefetch" href="/docs/assets/concrete_syntax_tree.html-a20309f9.js" as="script"><link rel="prefetch" href="/docs/assets/custom_token_patterns.html-b496eee9.js" as="script"><link rel="prefetch" href="/docs/assets/generating_syntax_diagrams.html-736df65d.js" as="script"><link rel="prefetch" href="/docs/assets/initialization_performance.html-f3e37e30.js" as="script"><link rel="prefetch" href="/docs/assets/internals.html-3856510c.js" as="script"><link rel="prefetch" href="/docs/assets/introduction.html-efc75f11.js" as="script"><link rel="prefetch" href="/docs/assets/performance.html-b6c721f4.js" as="script"><link rel="prefetch" href="/docs/assets/resolving_grammar_errors.html-921df230.js" as="script"><link rel="prefetch" href="/docs/assets/syntactic_content_assist.html-ab038845.js" as="script"><link rel="prefetch" href="/docs/assets/step0_introduction.html-68f0276a.js" as="script"><link rel="prefetch" href="/docs/assets/step1_lexing.html-9d68f4b5.js" as="script"><link rel="prefetch" href="/docs/assets/step2_parsing.html-d43d01c4.js" as="script"><link rel="prefetch" href="/docs/assets/step3_adding_actions_root.html-63788d51.js" as="script"><link rel="prefetch" href="/docs/assets/step3a_adding_actions_visitor.html-6aadb768.js" as="script"><link rel="prefetch" href="/docs/assets/step3b_adding_actions_embedded.html-8ffe5537.js" as="script"><link rel="prefetch" href="/docs/assets/step4_fault_tolerance.html-4af41d34.js" as="script"><link rel="prefetch" href="/docs/assets/404.html-7d3e45f3.js" as="script"><link rel="prefetch" href="/docs/assets/style-e9220a04.js" as="script"><link rel="prefetch" href="/docs/assets/docsearch-1d421ddb.js" as="script"><link rel="prefetch" href="/docs/assets/index-5161ad19.js" as="script">
  </head>
  <body>
    <div id="app"><!--[--><div class="theme-container"><!--[--><header class="navbar"><div class="toggle-sidebar-button" title="toggle sidebar" aria-expanded="false" role="button" tabindex="0"><div class="icon" aria-hidden="true"><span></span><span></span><span></span></div></div><span><a href="/docs/" class=""><!----><span class="site-name">Chevrotain</span></a></span><div class="navbar-items-wrapper" style=""><!--[--><!--]--><nav class="navbar-items can-hide"><!--[--><div class="navbar-item"><a href="/docs/" class="" aria-label="Home"><!--[--><!--]--> Home <!--[--><!--]--></a></div><div class="navbar-item"><a href="/docs/features/blazing_fast" class="" aria-label="Features"><!--[--><!--]--> Features <!--[--><!--]--></a></div><div class="navbar-item"><a href="/docs/tutorial/step0_introduction" class="" aria-label="Tutorial"><!--[--><!--]--> Tutorial <!--[--><!--]--></a></div><div class="navbar-item"><a href="/docs/guide/introduction" class="" aria-label="Guide"><!--[--><!--]--> Guide <!--[--><!--]--></a></div><div class="navbar-item"><a href="/docs/FAQ" class="" aria-label="FAQ"><!--[--><!--]--> FAQ <!--[--><!--]--></a></div><div class="navbar-item"><a href="/docs/changes/BREAKING_CHANGES" class="" aria-label="Changes"><!--[--><!--]--> Changes <!--[--><!--]--></a></div><div class="navbar-item"><a class="external-link" href="https://chevrotain.io/documentation/11_0_3/modules.html" rel="noopener noreferrer" target="_blank" aria-label="APIs"><!--[--><!--]--> APIs <span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!--[--><!--]--></a></div><div class="navbar-item"><a class="external-link" href="https://chevrotain.io/playground/" rel="noopener noreferrer" target="_blank" aria-label="Playground"><!--[--><!--]--> Playground <span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!--[--><!--]--></a></div><div class="navbar-item"><a class="external-link" href="https://chevrotain.io/performance/" rel="noopener noreferrer" target="_blank" aria-label="Benchmark"><!--[--><!--]--> Benchmark <span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!--[--><!--]--></a></div><div class="navbar-item"><a class="external-link" href="https://github.com/Chevrotain/chevrotain/discussions" rel="noopener noreferrer" target="_blank" aria-label="Discussions"><!--[--><!--]--> Discussions <span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!--[--><!--]--></a></div><div class="navbar-item"><a class="external-link" href="https://github.com/chevrotain/chevrotain" rel="noopener noreferrer" target="_blank" aria-label="GitHub"><!--[--><!--]--> GitHub <span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!--[--><!--]--></a></div><!--]--></nav><!--[--><!--]--><button class="toggle-color-mode-button" title="toggle color mode"><svg style="" class="icon" focusable="false" viewBox="0 0 32 32"><path d="M16 12.005a4 4 0 1 1-4 4a4.005 4.005 0 0 1 4-4m0-2a6 6 0 1 0 6 6a6 6 0 0 0-6-6z" fill="currentColor"></path><path d="M5.394 6.813l1.414-1.415l3.506 3.506L8.9 10.318z" fill="currentColor"></path><path d="M2 15.005h5v2H2z" fill="currentColor"></path><path d="M5.394 25.197L8.9 21.691l1.414 1.415l-3.506 3.505z" fill="currentColor"></path><path d="M15 25.005h2v5h-2z" fill="currentColor"></path><path d="M21.687 23.106l1.414-1.415l3.506 3.506l-1.414 1.414z" fill="currentColor"></path><path d="M25 15.005h5v2h-5z" fill="currentColor"></path><path d="M21.687 8.904l3.506-3.506l1.414 1.415l-3.506 3.505z" fill="currentColor"></path><path d="M15 2.005h2v5h-2z" fill="currentColor"></path></svg><svg style="display:none;" class="icon" focusable="false" viewBox="0 0 32 32"><path d="M13.502 5.414a15.075 15.075 0 0 0 11.594 18.194a11.113 11.113 0 0 1-7.975 3.39c-.138 0-.278.005-.418 0a11.094 11.094 0 0 1-3.2-21.584M14.98 3a1.002 1.002 0 0 0-.175.016a13.096 13.096 0 0 0 1.825 25.981c.164.006.328 0 .49 0a13.072 13.072 0 0 0 10.703-5.555a1.01 1.01 0 0 0-.783-1.565A13.08 13.08 0 0 1 15.89 4.38A1.015 1.015 0 0 0 14.98 3z" fill="currentColor"></path></svg></button><!--[--><div id="docsearch-container" style="display:none;"></div><div><button type="button" class="DocSearch DocSearch-Button" aria-label="Search"><span class="DocSearch-Button-Container"><svg width="20" height="20" class="DocSearch-Search-Icon" viewBox="0 0 20 20"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">Search</span></span><span class="DocSearch-Button-Keys"><kbd class="DocSearch-Button-Key"><svg width="15" height="15" class="DocSearch-Control-Key-Icon"><path d="M4.505 4.496h2M5.505 5.496v5M8.216 4.496l.055 5.993M10 7.5c.333.333.5.667.5 1v2M12.326 4.5v5.996M8.384 4.496c1.674 0 2.116 0 2.116 1.5s-.442 1.5-2.116 1.5M3.205 9.303c-.09.448-.277 1.21-1.241 1.203C1 10.5.5 9.513.5 8V7c0-1.57.5-2.5 1.464-2.494.964.006 1.134.598 1.24 1.342M12.553 10.5h1.953" stroke-width="1.2" stroke="currentColor" fill="none" stroke-linecap="square"></path></svg></kbd><kbd class="DocSearch-Button-Key">K</kbd></span></button></div><!--]--></div></header><!--]--><div class="sidebar-mask"></div><!--[--><aside class="sidebar"><nav class="navbar-items"><!--[--><div class="navbar-item"><a href="/docs/" class="" aria-label="Home"><!--[--><!--]--> Home <!--[--><!--]--></a></div><div class="navbar-item"><a href="/docs/features/blazing_fast" class="" aria-label="Features"><!--[--><!--]--> Features <!--[--><!--]--></a></div><div class="navbar-item"><a href="/docs/tutorial/step0_introduction" class="" aria-label="Tutorial"><!--[--><!--]--> Tutorial <!--[--><!--]--></a></div><div class="navbar-item"><a href="/docs/guide/introduction" class="" aria-label="Guide"><!--[--><!--]--> Guide <!--[--><!--]--></a></div><div class="navbar-item"><a href="/docs/FAQ" class="" aria-label="FAQ"><!--[--><!--]--> FAQ <!--[--><!--]--></a></div><div class="navbar-item"><a href="/docs/changes/BREAKING_CHANGES" class="" aria-label="Changes"><!--[--><!--]--> Changes <!--[--><!--]--></a></div><div class="navbar-item"><a class="external-link" href="https://chevrotain.io/documentation/11_0_3/modules.html" rel="noopener noreferrer" target="_blank" aria-label="APIs"><!--[--><!--]--> APIs <span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!--[--><!--]--></a></div><div class="navbar-item"><a class="external-link" href="https://chevrotain.io/playground/" rel="noopener noreferrer" target="_blank" aria-label="Playground"><!--[--><!--]--> Playground <span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!--[--><!--]--></a></div><div class="navbar-item"><a class="external-link" href="https://chevrotain.io/performance/" rel="noopener noreferrer" target="_blank" aria-label="Benchmark"><!--[--><!--]--> Benchmark <span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!--[--><!--]--></a></div><div class="navbar-item"><a class="external-link" href="https://github.com/Chevrotain/chevrotain/discussions" rel="noopener noreferrer" target="_blank" aria-label="Discussions"><!--[--><!--]--> Discussions <span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!--[--><!--]--></a></div><div class="navbar-item"><a class="external-link" href="https://github.com/chevrotain/chevrotain" rel="noopener noreferrer" target="_blank" aria-label="GitHub"><!--[--><!--]--> GitHub <span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!--[--><!--]--></a></div><!--]--></nav><!--[--><!--]--><ul class="sidebar-items"><!--[--><li><p tabindex="0" class="sidebar-item sidebar-heading active">Guide <!----></p><ul style="" class="sidebar-item-children"><!--[--><li><a href="/docs/guide/introduction.html" class="sidebar-item" aria-label="Introduction"><!--[--><!--]--> Introduction <!--[--><!--]--></a><!----></li><li><a href="/docs/guide/performance.html" class="sidebar-item" aria-label="Runtime Performance"><!--[--><!--]--> Runtime Performance <!--[--><!--]--></a><!----></li><li><a href="/docs/guide/initialization_performance.html" class="sidebar-item" aria-label="Initialization Performance"><!--[--><!--]--> Initialization Performance <!--[--><!--]--></a><!----></li><li><a href="/docs/guide/concrete_syntax_tree.html" class="sidebar-item" aria-label="CST"><!--[--><!--]--> CST <!--[--><!--]--></a><!----></li><li><a href="/docs/guide/generating_syntax_diagrams.html" class="sidebar-item" aria-label="Syntax Diagrams"><!--[--><!--]--> Syntax Diagrams <!--[--><!--]--></a><!----></li><li><a href="/docs/guide/custom_token_patterns.html" class="sidebar-item" aria-label="Custom Token Patterns"><!--[--><!--]--> Custom Token Patterns <!--[--><!--]--></a><!----></li><li><a href="/docs/guide/syntactic_content_assist.html" class="sidebar-item" aria-label="Syntactic Content Assist"><!--[--><!--]--> Syntactic Content Assist <!--[--><!--]--></a><!----></li><li><a href="/docs/guide/internals.html" class="sidebar-item" aria-label="Internals"><!--[--><!--]--> Internals <!--[--><!--]--></a><!----></li><li><a href="/docs/guide/resolving_grammar_errors.html" class="sidebar-item" aria-label="Resolving Grammar Errors"><!--[--><!--]--> Resolving Grammar Errors <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/docs/guide/resolving_lexer_errors.html" class="router-link-active router-link-exact-active router-link-active sidebar-item active" aria-label="Resolving Lexer Errors"><!--[--><!--]--> Resolving Lexer Errors <!--[--><!--]--></a><ul style="" class="sidebar-item-children"><!--[--><li><a aria-current="page" href="/docs/guide/resolving_lexer_errors.html#LINE_BREAKS" class="router-link-active router-link-exact-active sidebar-item" aria-label="No LINE_BREAKS Found"><!--[--><!--]--> No LINE_BREAKS Found <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/docs/guide/resolving_lexer_errors.html#IDENTIFY_TERMINATOR" class="router-link-active router-link-exact-active sidebar-item" aria-label="Unable to identify line terminator usage in pattern"><!--[--><!--]--> Unable to identify line terminator usage in pattern <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/docs/guide/resolving_lexer_errors.html#CUSTOM_LINE_BREAK" class="router-link-active router-link-exact-active sidebar-item" aria-label="A Custom Token Pattern should specify the &lt;line_breaks&gt; option"><!--[--><!--]--> A Custom Token Pattern should specify the &lt;line_breaks&gt; option <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/docs/guide/resolving_lexer_errors.html#REGEXP_PARSING" class="router-link-active router-link-exact-active sidebar-item" aria-label="Failed parsing &lt; /.../ &gt; Using the regexp-to-ast library"><!--[--><!--]--> Failed parsing &lt; /.../ &gt; Using the regexp-to-ast library <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/docs/guide/resolving_lexer_errors.html#UNICODE_OPTIMIZE" class="router-link-active router-link-exact-active sidebar-item" aria-label="The regexp unicode flag is not currently supported by the regexp-to-ast library"><!--[--><!--]--> The regexp unicode flag is not currently supported by the regexp-to-ast library <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/docs/guide/resolving_lexer_errors.html#COMPLEMENT" class="router-link-active router-link-exact-active sidebar-item" aria-label="Complement Sets cannot be automatically optimized"><!--[--><!--]--> Complement Sets cannot be automatically optimized <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/docs/guide/resolving_lexer_errors.html#ANCHORS" class="router-link-active router-link-exact-active sidebar-item" aria-label="Unexpected RegExp Anchor Error"><!--[--><!--]--> Unexpected RegExp Anchor Error <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/docs/guide/resolving_lexer_errors.html#UNREACHABLE" class="router-link-active router-link-exact-active sidebar-item" aria-label="Token can never be matched"><!--[--><!--]--> Token can never be matched <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/docs/guide/resolving_lexer_errors.html#CUSTOM_OPTIMIZE" class="router-link-active router-link-exact-active sidebar-item" aria-label="TokenType &lt;...&gt; is using a custom token pattern without providing &lt;char_start_hint&gt; parameter"><!--[--><!--]--> TokenType &lt;...&gt; is using a custom token pattern without providing &lt;char_start_hint&gt; parameter <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/docs/guide/resolving_lexer_errors.html#MISSING_LINE_TERM_CHARS" class="router-link-active router-link-exact-active sidebar-item" aria-label="Missing &lt;lineTerminatorCharacters&gt; property on the Lexer config"><!--[--><!--]--> Missing &lt;lineTerminatorCharacters&gt; property on the Lexer config <!--[--><!--]--></a><!----></li><!--]--></ul></li><!--]--></ul></li><!--]--></ul><!--[--><!--]--></aside><!--]--><!--[--><main class="page"><!--[--><!--]--><div class="theme-default-content"><!--[--><!--]--><div><h1 id="resolving-lexer-errors" tabindex="-1"><a class="header-anchor" href="#resolving-lexer-errors" aria-hidden="true">#</a> Resolving Lexer Errors</h1><ul><li><strong>Warnings</strong><ul><li><a href="#LINE_BREAKS">No LINE_BREAKS Found.</a></li><li><a href="#IDENTIFY_TERMINATOR">Unable to identify line terminator usage in pattern.</a></li><li><a href="#CUSTOM_LINE_BREAK">A Custom Token Pattern should specify the &lt;line_breaks&gt; option.</a></li><li><a href="#REGEXP_PARSING">Failed parsing &lt; /.../ &gt; Using the regexp-to-ast library.</a></li><li><a href="#UNICODE_OPTIMIZE">The regexp unicode flag is not currently supported by the regexp-to-ast library.</a></li><li><a href="#COMPLEMENT">Complement Sets cannot be automatically optimized.</a></li></ul></li></ul><ul><li><strong>Errors</strong><ul><li><a href="#ANCHORS">Unexpected RegExp Anchor Error.</a></li><li><a href="#UNREACHABLE">Token Can Never Be Matched.</a></li><li><a href="#CUSTOM_OPTIMIZE">TokenType &lt;...&gt; is using a custom token pattern without providing &lt;char_start_hint&gt; parameter</a></li><li><a href="#MISSING_LINE_TERM_CHARS">Missing &lt;lineTerminatorCharacters&gt; property on the Lexer config.</a></li></ul></li></ul><h1 id="warnings" tabindex="-1"><a class="header-anchor" href="#warnings" aria-hidden="true">#</a> Warnings</h1><h2 id="LINE_BREAKS" tabindex="-1"><a class="header-anchor" href="#LINE_BREAKS" aria-hidden="true">#</a> No LINE_BREAKS Found</h2><p>A Chevrotain Lexer will by default track the full position information for each token. This includes line and column information.</p><p>In order to support this the Lexer must be aware of which Tokens may include line terminators. Normally this information can be computed automatically however in some cases Chevrotain needs some hints.</p><p>This warning means that the Lexer has been defined to track line and column information (perhaps by default). Yet not a single one of the Token definitions passed to it was detected as possibly containing line terminators.</p><p>To resolve this choose one of the following:</p><ol><li><p>Disable the line and column position tracking using the <a href="https://chevrotain.io/documentation/11_0_3/interfaces/ILexerConfig.html#positionTracking" target="_blank" rel="noopener noreferrer">positionTracking<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a> configuration option.</p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token keyword">const</span> myTokens <span class="token operator">=</span> <span class="token punctuation">[</span>IntegerLiteral<span class="token punctuation">,</span> StringLiteral<span class="token punctuation">,</span> WhiteSpace <span class="token comment">/*, ... */</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> myLexer <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">chevrotain<span class="token punctuation">.</span>Lexer</span><span class="token punctuation">(</span><span class="token punctuation">[</span>myTokens<span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
  <span class="token literal-property property">positionTracking</span><span class="token operator">:</span> <span class="token string">&quot;onlyOffset&quot;</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li><li><p>Mark the Tokens which may include a line terminator with an explicit line_breaks flag.</p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token keyword">const</span> createToken <span class="token operator">=</span> chevrotain<span class="token punctuation">.</span>createToken<span class="token punctuation">;</span>

<span class="token keyword">const</span> Whitespace <span class="token operator">=</span> <span class="token function">createToken</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">&quot;Whitespace&quot;</span><span class="token punctuation">,</span>
  <span class="token literal-property property">pattern</span><span class="token operator">:</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">\s+</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">,</span>
  <span class="token comment">// This is normally computed automatically...</span>
  <span class="token literal-property property">line_breaks</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> myTokens <span class="token operator">=</span> <span class="token punctuation">[</span>IntegerLiteral<span class="token punctuation">,</span> StringLiteral<span class="token punctuation">,</span> WhiteSpace <span class="token comment">/*, ... */</span><span class="token punctuation">]</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> myLexer <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">chevrotain<span class="token punctuation">.</span>Lexer</span><span class="token punctuation">(</span><span class="token punctuation">[</span>myTokens<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li><p>Note that the definition of what constitutes a line terminator is controlled by the <a href="https://chevrotain.io/documentation/11_0_3/interfaces/ILexerConfig.html#lineTerminatorsPattern" target="_blank" rel="noopener noreferrer">lineTerminatorsPattern<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a> lexer configuration property.</p></li><li><p>Also note that multi-line tokens such as some types of comments and string literals tokens may contain line terminators.</p></li></ul></li></ol><h2 id="IDENTIFY_TERMINATOR" tabindex="-1"><a class="header-anchor" href="#IDENTIFY_TERMINATOR" aria-hidden="true">#</a> Unable to identify line terminator usage in pattern</h2><p>A Chevrotain lexer must be aware which of the Token Types may match a line terminator. This is required to compute the correct line and column position information. Normally Chevrotain can identify this information automatically using the <a href="https://github.com/bd82/regexp-to-ast" target="_blank" rel="noopener noreferrer">regexp-to-ast library<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a>, however sometimes this logic fails. This is only a <strong>warning</strong> which will cause a small performance loss to the lexer and would <strong>not</strong> impact its correctness.</p><p>To resolve this warning, <strong>explicitly</strong> specify the line_breaks option in the offending Token Types:</p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token keyword">const</span> MyToken <span class="token operator">=</span> <span class="token function">createToken</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">&quot;MyToken&quot;</span><span class="token punctuation">,</span>
  <span class="token literal-property property">pattern</span><span class="token operator">:</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">abc</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">,</span>
  <span class="token literal-property property">line_breaks</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> MultiLineStringLiteral <span class="token operator">=</span> <span class="token function">createToken</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">&quot;MultiLineStringLiteral&quot;</span><span class="token punctuation">,</span>
  <span class="token literal-property property">pattern</span><span class="token operator">:</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">`[^`]*`</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">,</span>
  <span class="token literal-property property">line_breaks</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>Also please open an issue in the <a href="https://github.com/bd82/regexp-to-ast" target="_blank" rel="noopener noreferrer">regexp-to-ast library<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a> so the root problem could be tracked and resolved.</p><h2 id="CUSTOM_LINE_BREAK" tabindex="-1"><a class="header-anchor" href="#CUSTOM_LINE_BREAK" aria-hidden="true">#</a> A Custom Token Pattern should specify the &lt;line_breaks&gt; option</h2><p>A Chevrotain lexer must be aware which of the Token Types may match a line terminator. It is not possible to do so automatically when using <a href="https://chevrotain.io/docs/guide/custom_token_patterns.html" target="_blank" rel="noopener noreferrer">custom token patterns<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a>. This means it is highly recommended to explicitly provide the line_breaks argument when creating a TokenType:</p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token keyword">const</span> MyCustomToken <span class="token operator">=</span> <span class="token function">createToken</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">&quot;MyCustomToken&quot;</span><span class="token punctuation">,</span>
  <span class="token literal-property property">pattern</span><span class="token operator">:</span> <span class="token punctuation">{</span> <span class="token literal-property property">exec</span><span class="token operator">:</span> matchFunction <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token literal-property property">line_breaks</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> MyCustomMultiLineToken <span class="token operator">=</span> <span class="token function">createToken</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">&quot;MyCustomMultiLineToken&quot;</span><span class="token punctuation">,</span>
  <span class="token literal-property property">pattern</span><span class="token operator">:</span> <span class="token punctuation">{</span> <span class="token literal-property property">exec</span><span class="token operator">:</span> matchFunction2 <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token literal-property property">line_breaks</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>This is only a <strong>warning</strong> which will cause a small performance loss to the lexer and would not impact its correctness. If no explicit &lt;line_break&gt; option is provided it would be implicitly treated as &quot;true&quot; for <a href="https://chevrotain.io/docs/guide/custom_token_patterns.html" target="_blank" rel="noopener noreferrer">custom token patterns<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a>.</p><h2 id="REGEXP_PARSING" tabindex="-1"><a class="header-anchor" href="#REGEXP_PARSING" aria-hidden="true">#</a> Failed parsing &lt; /.../ &gt; Using the regexp-to-ast library</h2><p>The Chevrotain Lexer performs optimizations by filtering the potential token matches using the next <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String/charCodeAt" target="_blank" rel="noopener noreferrer">charCode<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a> to be consumed. To apply this optimization the first possible charCodes for <strong>every</strong> Token Type must be identified.</p><p>This analysis is implemented using the <a href="https://github.com/bd82/regexp-to-ast" target="_blank" rel="noopener noreferrer">regexp-to-ast<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a> library. Which means this <strong>warning</strong> usually indicates a bug in the regexp-to-ast library. The impact is only that the optimization described above would become disabled. Lexing and Parsing will still work correctly, only slower...</p><p>Please open a bug for the <a href="https://github.com/bd82/regexp-to-ast" target="_blank" rel="noopener noreferrer">regexp-to-ast<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a> library. This issue can be <strong>worked around</strong> by explicitly providing a &quot;<a href="https://chevrotain.io/documentation/11_0_3/interfaces/ITokenConfig.html#start_chars_hint" target="_blank" rel="noopener noreferrer">start_chars_hint<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a>&quot; property.</p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token keyword">const</span> Integer <span class="token operator">=</span> <span class="token function">createToken</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">&quot;Integer&quot;</span><span class="token punctuation">,</span>
  <span class="token comment">// lets assume that this pattern caused an error in regexp-to-ast</span>
  <span class="token literal-property property">pattern</span><span class="token operator">:</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">[1-9]\d*</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">,</span>
  <span class="token comment">// by explicitly providing the first possible characters of this pattern</span>
  <span class="token comment">// the analysis by the regexp-to-ast library will be skipped</span>
  <span class="token comment">// and the optimization can be enabled.</span>
  <span class="token literal-property property">start_chars_hint</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&quot;1&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;2&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;3&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;4&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;5&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;6&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;7&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;8&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;9&quot;</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="UNICODE_OPTIMIZE" tabindex="-1"><a class="header-anchor" href="#UNICODE_OPTIMIZE" aria-hidden="true">#</a> The regexp unicode flag is not currently supported by the regexp-to-ast library</h2><p>The Chevrotain Lexer performs optimizations by filtering the potential token matches using the next <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String/charCodeAt" target="_blank" rel="noopener noreferrer">charCode<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a> to be consumed. To apply this optimization the first possible charCodes for <strong>every</strong> TokenType must be identified.</p><p>This analysis is implemented using the <a href="https://github.com/bd82/regexp-to-ast" target="_blank" rel="noopener noreferrer">regexp-to-ast<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a> library. This library currently does not support the <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/RegExp/unicode" target="_blank" rel="noopener noreferrer">unicode regexp flag<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a> The impact is that the optimization described above would become disabled. Lexing and Parsing will still work correctly, just slower...</p><p>This issue can be <strong>worked around</strong> by explicitly providing a &quot;<a href="https://chevrotain.io/documentation/11_0_3/interfaces/ITokenConfig.html#start_chars_hint" target="_blank" rel="noopener noreferrer">start_chars_hint<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a>&quot; property.</p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token comment">// &#39;💩&#39; character</span>
<span class="token function">createToken</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">&quot;PileOfPoo&quot;</span><span class="token punctuation">,</span>
  <span class="token comment">// \u{xxxxx} 32bit unicode escape can only be used with the /u flag enabled.</span>
  <span class="token literal-property property">pattern</span><span class="token operator">:</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">\u{1F4A9}</span><span class="token regex-delimiter">/</span><span class="token regex-flags">u</span></span><span class="token punctuation">,</span>
  <span class="token comment">// The &#39;💩&#39; character is represented by surrogate pairs: &#39;\uD83D\uDCA9&#39;</span>
  <span class="token comment">// the start_chars_hint should only be provided the first of the pair.</span>
  <span class="token literal-property property">start_chars_hint</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token number">55357</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>Another way to <strong>work around</strong> the issue is to define the pattern as a string literal. As that kind can be trivially optimized. This is naturally only relevant for simple patterns. For example:</p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token function">createToken</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">&quot;LCurley&quot;</span><span class="token punctuation">,</span>
  <span class="token comment">// note that the pattern is a string literal, not a regExp literal.</span>
  <span class="token literal-property property">pattern</span><span class="token operator">:</span> <span class="token string">&quot;{&quot;</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="COMPLEMENT" tabindex="-1"><a class="header-anchor" href="#COMPLEMENT" aria-hidden="true">#</a> Complement Sets cannot be automatically optimized</h2><p>The Chevrotain Lexer performs optimizations by filtering the potential token matches using the next <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String/charCodeAt" target="_blank" rel="noopener noreferrer">charCode<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a> about to be consumed. To apply this optimization the first possible charCodes for <strong>every</strong> TokenType must be known in advance.</p><p>When a TokenType pattern uses a regExp complement set as a potential <strong>first</strong> character the optimization is skipped as translating a complement set to a regular set is fairly costly during the Lexer&#39;s initialization.</p><p>For example an XML Text is defined by <strong>everything</strong> except a closing tag.</p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token keyword">const</span> XMLText <span class="token operator">=</span> <span class="token function">createToken</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">&quot;XMLText&quot;</span><span class="token punctuation">,</span>
  <span class="token literal-property property">pattern</span><span class="token operator">:</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">[^&lt;&amp;]+</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>This means that there are <strong>65533</strong> (65535 - 2) possible starting charCodes For an XMLText token.</p><p>If the use of these runtime optimizations is needed and the startup resources cost is acceptable It is possible to enable the optimizations by explicitly providing a &quot;<a href="https://chevrotain.io/documentation/11_0_3/interfaces/ITokenConfig.html#start_chars_hint" target="_blank" rel="noopener noreferrer">start_chars_hint<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a>&quot; property. e.g:</p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token keyword">const</span> hints <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;=</span> <span class="token number">65535</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token comment">// 38 is &#39;&lt;&#39; and 60 is &#39;&amp;&#39;</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>i <span class="token operator">!==</span> <span class="token number">38</span> <span class="token operator">||</span> i <span class="token operator">!==</span> <span class="token number">60</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    hints<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">const</span> XMLText <span class="token operator">=</span> <span class="token function">createToken</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">&quot;XMLText&quot;</span><span class="token punctuation">,</span>
  <span class="token literal-property property">pattern</span><span class="token operator">:</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">[^&lt;&amp;]+</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">,</span>
  <span class="token literal-property property">start_chars_hint</span><span class="token operator">:</span> hints<span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>Please Note that filling such an array can be cpu intensive. So if you are only parsing small inputs and/or starting a new process for each parser invocation the added initialization cost may be counterproductive.</p><p>Another solution to this problem is to re-define the Token pattern without using a complement. For example: the XMLText pattern above could be re-defined as:</p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token keyword">const</span> XMLText <span class="token operator">=</span> <span class="token function">createToken</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">&quot;XMLText&quot;</span><span class="token punctuation">,</span>
  <span class="token comment">// Equivalent to: /[^&lt;&amp;]+/ but a-lot less clear :(</span>
  <span class="token comment">// Note that:</span>
  <span class="token comment">//   - &quot;\u0026&quot; === &quot;&amp;&quot;</span>
  <span class="token comment">//   - &quot;\u003C&quot; === &quot;&lt;&quot;</span>
  <span class="token literal-property property">pattern</span><span class="token operator">:</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">[\u0000-\u0025\u0027-\u003B\u003D-\uFFFF]+</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>Note that internally Chevrotain avoids creating a 16bits large data structure so this method would be the most optimized both in terms of runtime and initialization time.</p><h1 id="errors" tabindex="-1"><a class="header-anchor" href="#errors" aria-hidden="true">#</a> Errors</h1><h2 id="ANCHORS" tabindex="-1"><a class="header-anchor" href="#ANCHORS" aria-hidden="true">#</a> Unexpected RegExp Anchor Error</h2><p>A Token RegExp pattern used in a chevrotain lexer may not use the start/end of input anchors (&#39;$&#39; and &#39;^&#39;).</p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token keyword">const</span> createToken <span class="token operator">=</span> chevrotain<span class="token punctuation">.</span>createToken<span class="token punctuation">;</span>

<span class="token comment">// Using createToken API</span>
<span class="token keyword">const</span> Whitespace <span class="token operator">=</span> <span class="token function">createToken</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">&quot;Integer&quot;</span><span class="token punctuation">,</span>
  <span class="token comment">// invalid pattern using both anchors</span>
  <span class="token literal-property property">pattern</span><span class="token operator">:</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">^\d+$</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// will throw an error</span>
<span class="token keyword">new</span> <span class="token class-name">chevrotain<span class="token punctuation">.</span>Lexer</span><span class="token punctuation">(</span><span class="token punctuation">[</span>semVer<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>To resolve this simply avoid using anchors in your Token Types patterns.</p><h2 id="UNREACHABLE" tabindex="-1"><a class="header-anchor" href="#UNREACHABLE" aria-hidden="true">#</a> Token can never be matched</h2><p>This error means that A Token type can never be successfully matched as a <strong>previous</strong> Token type in the lexer definition will <strong>always</strong> matched instead. This happens because the default behavior of Chevrotain is to attempt to match tokens <strong>by the order</strong> described in the lexer definition.</p><p>For example:</p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token keyword">const</span> ForKeyword <span class="token operator">=</span> <span class="token function">createToken</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">&quot;ForKeyword&quot;</span><span class="token punctuation">,</span>
  <span class="token literal-property property">pattern</span><span class="token operator">:</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">for</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> Identifier <span class="token operator">=</span> <span class="token function">createToken</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">&quot;Identifier&quot;</span><span class="token punctuation">,</span>
  <span class="token literal-property property">pattern</span><span class="token operator">:</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">[a-zA-z]+</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// Will throw Token &lt;ForKeyword&gt; can never be matched...</span>
<span class="token comment">// Because the input &quot;for&quot; is also a valid identifier</span>
<span class="token comment">// and matching an identifier will be attempted first.</span>
<span class="token keyword">const</span> myLexer <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">chevrotain<span class="token punctuation">.</span>Lexer</span><span class="token punctuation">(</span><span class="token punctuation">[</span>Identifier<span class="token punctuation">,</span> ForKeyword<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>Note that this validation is limited to simple patterns such as keywords The more general case of any pattern being a strict subset of a preceding pattern will require much more in depth RegExp analysis capabilities.</li></ul><p>To resolve this simply re-arrange the order of Token types in the lexer definition such that the more specific Token types will be listed first.</p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token comment">// Identifier is now listed as the last Token type.</span>
<span class="token keyword">const</span> myLexer <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">chevrotain<span class="token punctuation">.</span>Lexer</span><span class="token punctuation">(</span><span class="token punctuation">[</span>ForKeyword<span class="token punctuation">,</span> Identifier<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><p>Note that the solution provided above will create a new problem. Any identifier <strong>starting with</strong> &quot;for&quot; will be lexed as <strong>two separate</strong> tokens, a ForKeyword and an identifier. For example:</p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token keyword">const</span> myLexer <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">chevrotain<span class="token punctuation">.</span>Lexer</span><span class="token punctuation">(</span><span class="token punctuation">[</span>ForKeyword<span class="token punctuation">,</span> Identifier<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// [</span>
<span class="token comment">//    {image:&quot;for&quot;}</span>
<span class="token comment">//    {image:&quot;ward&quot;}</span>
<span class="token comment">// ]</span>
<span class="token keyword">const</span> tokensResult <span class="token operator">=</span> myLexer<span class="token punctuation">.</span><span class="token function">tokenize</span><span class="token punctuation">(</span><span class="token string">&quot;forward&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>To resolve this second problem see how to prefer the <strong>longest match</strong> as demonstrated in the <a href="https://github.com/chevrotain/chevrotain/blob/master/examples/lexer/keywords_vs_identifiers/keywords_vs_identifiers.js" target="_blank" rel="noopener noreferrer">keywords vs identifiers example<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></p><h2 id="CUSTOM_OPTIMIZE" tabindex="-1"><a class="header-anchor" href="#CUSTOM_OPTIMIZE" aria-hidden="true">#</a> TokenType &lt;...&gt; is using a custom token pattern without providing &lt;char_start_hint&gt; parameter</h2><p>The Chevrotain Lexer performs optimizations by filtering the potential token matches using the next <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String/charCodeAt" target="_blank" rel="noopener noreferrer">charCode<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a> to be consumed. To apply this optimization the first possible charCodes for <strong>every</strong> TokenType must be identified.</p><p>This information cannot be automatically computed for <a href="https://chevrotain.io/docs/guide/custom_token_patterns.html" target="_blank" rel="noopener noreferrer">custom token patterns<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a> and <strong>should</strong> therefore be explicitly provided using the &quot;<a href="https://chevrotain.io/documentation/11_0_3/interfaces/ITokenConfig.html#start_chars_hint" target="_blank" rel="noopener noreferrer">start_chars_hint<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a>&quot; property.</p><p>For example:</p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token keyword">const</span> IntegerToken <span class="token operator">=</span> <span class="token function">createToken</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">&quot;IntegerToken&quot;</span><span class="token punctuation">,</span>
  <span class="token literal-property property">pattern</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token function-variable function">exec</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token parameter">text<span class="token punctuation">,</span> offset</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
      <span class="token comment">/* ... */</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token literal-property property">start_chars_hint</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&quot;1&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;2&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;3&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;4&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;5&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;6&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;7&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;8&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;9&quot;</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>Providing the &quot;<a href="https://chevrotain.io/documentation/11_0_3/interfaces/ITokenConfig.html#start_chars_hint" target="_blank" rel="noopener noreferrer">start_chars_hint<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a>&quot; property is <strong>not</strong> mandatory. It will only enable performance optimizations in the lexer.</p><h2 id="MISSING_LINE_TERM_CHARS" tabindex="-1"><a class="header-anchor" href="#MISSING_LINE_TERM_CHARS" aria-hidden="true">#</a> Missing &lt;lineTerminatorCharacters&gt; property on the Lexer config</h2><p>Chevrotain treats <code>/\n|\r\n?/</code> as line terminators, but that is insufficient for some grammars. Therefore, it is possible to customize the definition of line terminators using the <a href="https://chevrotain.io/documentation/11_0_3/interfaces/ILexerConfig.html#lineTerminatorsPattern" target="_blank" rel="noopener noreferrer">lineTerminatorPattern option<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a>. When doing so, however, it is also necessary to provide the <a href="https://chevrotain.io/documentation/11_0_3/interfaces/ILexerConfig.html#lineTerminatorCharacters" target="_blank" rel="noopener noreferrer">lineTerminatorCharacters option<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a>. This causes a bit of duplication and may be simplified in future versions.</p><p>Example:</p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token keyword">const</span> myLexer <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">chevrotain<span class="token punctuation">.</span>Lexer</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
  <span class="token comment">// For our lexer only &quot;\n&quot; is a counted as a line terminator</span>
  <span class="token literal-property property">lineTerminatorsPattern</span><span class="token operator">:</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">\n</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">,</span>
  <span class="token comment">// Duplicate information, &quot;\n&quot;.charCodeAt(0) === 10</span>
  <span class="token literal-property property">lineTerminatorCharacters</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token number">10</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></div><!--[--><!--]--></div><footer class="page-meta"><div class="meta-item edit-link"><a class="external-link meta-item-label" href="https://github.com/chevrotain/chevrotain/edit/master/packages/website/docs/guide/resolving_lexer_errors.md" rel="noopener noreferrer" target="_blank" aria-label="Edit this page on GitHub"><!--[--><!--]--> Edit this page on GitHub <span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!--[--><!--]--></a></div><div class="meta-item last-updated"><span class="meta-item-label">Last Updated: </span><!----></div><div class="meta-item contributors"><span class="meta-item-label">Contributors: </span><span class="meta-item-info"><!--[--><!--[--><span class="contributor" title="email: shahars@protonmail.com">Shahar Soel</span><!--[-->, <!--]--><!--]--><!--[--><span class="contributor" title="email: shachar.soel@sap.com">Shahar Soel</span><!--[-->, <!--]--><!--]--><!--[--><span class="contributor" title="email: shahars@protonmail.com">bd82</span><!--[-->, <!--]--><!--]--><!--[--><span class="contributor" title="email: 4233843+bd82@users.noreply.github.com">Shahar Soel</span><!----><!--]--><!--]--></span></div></footer><nav class="page-nav"><p class="inner"><span class="prev"><a href="/docs/guide/resolving_grammar_errors.html" class="" aria-label="Resolving Grammar Errors"><!--[--><!--]--> Resolving Grammar Errors <!--[--><!--]--></a></span><!----></p></nav><!--[--><!--]--></main><!--]--></div><!----><!--]--></div>
    <script type="module" src="/docs/assets/app-2fd97b94.js" defer></script>
  </body>
</html>
