import{_ as o,r as i,o as p,c as l,b as a,d as s,e,a as c}from"./app-5079ec4e.js";const u={},r={href:"https://chevrotain.io/docs/features/gates.html",target:"_blank",rel:"noopener noreferrer"},k={href:"https://github.com/chevrotain/chevrotain/tree/master/examples/parser/backtracking",target:"_blank",rel:"noopener noreferrer"};function d(v,n){const t=i("ExternalLinkIcon");return p(),l("div",null,[n[5]||(n[5]=a("h1",{id:"backtracking",tabindex:"-1"},[a("a",{class:"header-anchor",href:"#backtracking","aria-hidden":"true"},"#"),s(" Backtracking")],-1)),n[6]||(n[6]=a("p",null,[s("Chevrotain supports backtracking to resolve ambiguities. Backtracking means "),a("strong",null,"fully"),s(" trying an alternative instead of using a fixed token lookahead, this is similar to a DFS versus a BFS.")],-1)),n[7]||(n[7]=a("p",null,[s("Backtracking is not automatic and must be "),a("strong",null,"explicitly"),s(" invoked. This is because it is inefficient and is mutually exclusive with error recovery. It is strongly recommended to avoid using backtracking if possible.")],-1)),a("p",null,[n[1]||(n[1]=s("Backtracking is implemented by using ")),a("a",r,[n[0]||(n[0]=s("Gates")),e(t)])]),n[8]||(n[8]=c(`<p>For example, given the following grammar which is not LL(K), as both the alternatives in &quot;statement&quot; have a potentially infinitely long common prefix.</p><div class="language-antlr line-numbers-mode" data-ext="antlr"><pre class="language-antlr"><code>statement:
   longRule1 |
   longRule2 |

longRule1:
   A+ B

longRule2:
   A+ C
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>We can resolve the ambiguity by using backtracking, effectively fully trying out the alternatives (in order) instead of trying to choose one using a limited token lookahead.</p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code>$<span class="token punctuation">.</span><span class="token constant">RULE</span><span class="token punctuation">(</span><span class="token string">&quot;statement&quot;</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  $<span class="token punctuation">.</span><span class="token constant">OR</span><span class="token punctuation">(</span><span class="token punctuation">[</span>
    <span class="token punctuation">{</span>
      <span class="token constant">GATE</span><span class="token operator">:</span> $<span class="token punctuation">.</span><span class="token constant">BACKTRACK</span><span class="token punctuation">(</span>$<span class="token punctuation">.</span>longRule1<span class="token punctuation">)</span><span class="token punctuation">,</span>
      <span class="token function-variable function">ALT</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> $<span class="token punctuation">.</span><span class="token constant">SUBRULE</span><span class="token punctuation">(</span>$<span class="token punctuation">.</span>longRule1<span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span>
      <span class="token constant">GATE</span><span class="token operator">:</span> $<span class="token punctuation">.</span><span class="token constant">BACKTRACK</span><span class="token punctuation">(</span>$<span class="token punctuation">.</span>longRule2<span class="token punctuation">)</span><span class="token punctuation">,</span>
      <span class="token function-variable function">ALT</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> $<span class="token punctuation">.</span><span class="token constant">SUBRULE</span><span class="token punctuation">(</span>$<span class="token punctuation">.</span>longRule2<span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div>`,4)),a("p",null,[n[3]||(n[3]=s("See ")),a("a",k,[n[2]||(n[2]=s("executable example")),e(t)]),n[4]||(n[4]=s(" for further details."))])])}const g=o(u,[["render",d],["__file","backtracking.html.vue"]]);export{g as default};
