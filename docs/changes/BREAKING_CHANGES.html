<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>6.0.0 | Chevrotain</title>
    <meta name="description" content="Parser Building Toolkit for JavaScript">
    
    
    <link rel="preload" href="/chevrotain/docs/assets/css/0.styles.0414aa4f.css" as="style"><link rel="preload" href="/chevrotain/docs/assets/js/app.594ff63e.js" as="script"><link rel="preload" href="/chevrotain/docs/assets/js/6.f976f29e.js" as="script"><link rel="prefetch" href="/chevrotain/docs/assets/js/10.010edfd9.js"><link rel="prefetch" href="/chevrotain/docs/assets/js/11.9cc39370.js"><link rel="prefetch" href="/chevrotain/docs/assets/js/12.fc08dfb5.js"><link rel="prefetch" href="/chevrotain/docs/assets/js/13.6b0f1fa5.js"><link rel="prefetch" href="/chevrotain/docs/assets/js/14.da494e39.js"><link rel="prefetch" href="/chevrotain/docs/assets/js/15.9ebd8e3e.js"><link rel="prefetch" href="/chevrotain/docs/assets/js/16.63786109.js"><link rel="prefetch" href="/chevrotain/docs/assets/js/17.a9e39ae5.js"><link rel="prefetch" href="/chevrotain/docs/assets/js/18.050fd2ce.js"><link rel="prefetch" href="/chevrotain/docs/assets/js/19.f1907741.js"><link rel="prefetch" href="/chevrotain/docs/assets/js/2.0f8b7ada.js"><link rel="prefetch" href="/chevrotain/docs/assets/js/20.831e2faf.js"><link rel="prefetch" href="/chevrotain/docs/assets/js/21.106a38f5.js"><link rel="prefetch" href="/chevrotain/docs/assets/js/22.c47bef02.js"><link rel="prefetch" href="/chevrotain/docs/assets/js/23.16fa9be1.js"><link rel="prefetch" href="/chevrotain/docs/assets/js/24.cf0f0b81.js"><link rel="prefetch" href="/chevrotain/docs/assets/js/25.c229a595.js"><link rel="prefetch" href="/chevrotain/docs/assets/js/26.86049237.js"><link rel="prefetch" href="/chevrotain/docs/assets/js/27.1b359510.js"><link rel="prefetch" href="/chevrotain/docs/assets/js/28.da8d25e4.js"><link rel="prefetch" href="/chevrotain/docs/assets/js/29.73dc250f.js"><link rel="prefetch" href="/chevrotain/docs/assets/js/3.39f98cc2.js"><link rel="prefetch" href="/chevrotain/docs/assets/js/30.91e76381.js"><link rel="prefetch" href="/chevrotain/docs/assets/js/31.2515f63d.js"><link rel="prefetch" href="/chevrotain/docs/assets/js/32.e038576d.js"><link rel="prefetch" href="/chevrotain/docs/assets/js/33.09d1304d.js"><link rel="prefetch" href="/chevrotain/docs/assets/js/34.465ff7c7.js"><link rel="prefetch" href="/chevrotain/docs/assets/js/35.6afc64ae.js"><link rel="prefetch" href="/chevrotain/docs/assets/js/36.03dfd782.js"><link rel="prefetch" href="/chevrotain/docs/assets/js/37.f1ec5540.js"><link rel="prefetch" href="/chevrotain/docs/assets/js/38.d40622b4.js"><link rel="prefetch" href="/chevrotain/docs/assets/js/39.daa8002b.js"><link rel="prefetch" href="/chevrotain/docs/assets/js/4.927c304b.js"><link rel="prefetch" href="/chevrotain/docs/assets/js/40.e49a4e77.js"><link rel="prefetch" href="/chevrotain/docs/assets/js/41.aaaee0de.js"><link rel="prefetch" href="/chevrotain/docs/assets/js/42.89b9e40e.js"><link rel="prefetch" href="/chevrotain/docs/assets/js/43.ccb8b18f.js"><link rel="prefetch" href="/chevrotain/docs/assets/js/44.aa80ff6a.js"><link rel="prefetch" href="/chevrotain/docs/assets/js/45.48095af0.js"><link rel="prefetch" href="/chevrotain/docs/assets/js/5.c4911253.js"><link rel="prefetch" href="/chevrotain/docs/assets/js/7.c56c6b58.js"><link rel="prefetch" href="/chevrotain/docs/assets/js/8.5e95d7e2.js"><link rel="prefetch" href="/chevrotain/docs/assets/js/9.d03d3672.js">
    <link rel="stylesheet" href="/chevrotain/docs/assets/css/0.styles.0414aa4f.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/chevrotain/docs/" class="home-link router-link-active"><!----> <span class="site-name">Chevrotain</span></a> <div class="links" style="max-width:nullpx;"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/chevrotain/docs/" class="nav-link">Home</a></div><div class="nav-item"><a href="/chevrotain/docs/features/blazing_fast.html" class="nav-link">Features</a></div><div class="nav-item"><a href="/chevrotain/docs/tutorial/step0_introduction.html" class="nav-link">Tutorial</a></div><div class="nav-item"><a href="/chevrotain/docs/guide/introduction.html" class="nav-link">Guide</a></div><div class="nav-item"><a href="/chevrotain/docs/FAQ.html" class="nav-link">FAQ</a></div><div class="nav-item"><a href="/chevrotain/docs/changes/BREAKING_CHANGES.html" class="nav-link router-link-exact-active router-link-active">Changes</a></div><div class="nav-item"><a href="https://sap.github.io/chevrotain/documentation/6_2_0/globals.html" target="_blank" rel="noopener noreferrer" class="nav-link external">
  APIs
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div><div class="nav-item"><a href="https://sap.github.io/chevrotain/playground/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Playground
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div><div class="nav-item"><a href="https://sap.github.io/chevrotain/performance/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Benchmark
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div><div class="nav-item"><a href="https://gitter.im/chevrotain-parser/Lobby" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Chat
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div> <a href="https://github.com/SAP/chevrotain" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></nav></div></header> <div class="sidebar-mask"></div> <div class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/chevrotain/docs/" class="nav-link">Home</a></div><div class="nav-item"><a href="/chevrotain/docs/features/blazing_fast.html" class="nav-link">Features</a></div><div class="nav-item"><a href="/chevrotain/docs/tutorial/step0_introduction.html" class="nav-link">Tutorial</a></div><div class="nav-item"><a href="/chevrotain/docs/guide/introduction.html" class="nav-link">Guide</a></div><div class="nav-item"><a href="/chevrotain/docs/FAQ.html" class="nav-link">FAQ</a></div><div class="nav-item"><a href="/chevrotain/docs/changes/BREAKING_CHANGES.html" class="nav-link router-link-exact-active router-link-active">Changes</a></div><div class="nav-item"><a href="https://sap.github.io/chevrotain/documentation/6_2_0/globals.html" target="_blank" rel="noopener noreferrer" class="nav-link external">
  APIs
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div><div class="nav-item"><a href="https://sap.github.io/chevrotain/playground/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Playground
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div><div class="nav-item"><a href="https://sap.github.io/chevrotain/performance/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Benchmark
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div><div class="nav-item"><a href="https://gitter.im/chevrotain-parser/Lobby" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Chat
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div> <a href="https://github.com/SAP/chevrotain" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></nav>  <ul class="sidebar-links"><li><div class="sidebar-group first"><p class="sidebar-heading open"><span>Changes</span> <!----></p> <ul class="sidebar-group-items"><li><a href="/chevrotain/docs/changes/BREAKING_CHANGES.html" class="active sidebar-link">Breaking Changes</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/chevrotain/docs/changes/BREAKING_CHANGES.html#_6-0-0" class="sidebar-link">6.0.0</a></li><li class="sidebar-sub-header"><a href="/chevrotain/docs/changes/BREAKING_CHANGES.html#_5-0-0" class="sidebar-link">5.0.0</a></li><li class="sidebar-sub-header"><a href="/chevrotain/docs/changes/BREAKING_CHANGES.html#_4-0-0" class="sidebar-link">4.0.0</a></li><li class="sidebar-sub-header"><a href="/chevrotain/docs/changes/BREAKING_CHANGES.html#_3-0-0" class="sidebar-link">3.0.0</a></li><li class="sidebar-sub-header"><a href="/chevrotain/docs/changes/BREAKING_CHANGES.html#_2-0-0" class="sidebar-link">2.0.0</a></li></ul></li><li><a href="/chevrotain/docs/changes/CHANGELOG.html" class="sidebar-link">ChangeLog</a></li></ul></div></li></ul> </div> <div class="page"> <div class="content"><h2 id="_6-0-0"><a href="#_6-0-0" aria-hidden="true" class="header-anchor">#</a> 6.0.0</h2> <ul><li><p>Due to re-implementation of the grammar analysis via <a href="/chevrotain/docs/guide/internals.html#grammar-recording">&quot;grammar recording&quot;</a>, certain semantics action
will now need to be wrapped in the new <a href="https://sap.github.io/chevrotain/documentation/6_0_0/classes/baseparser.html#action" target="_blank" rel="noopener noreferrer">ACTION<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> Parsing
DSL method. This will not affect Parsers that output a CST and only affect some of the Parsers which employ embedded semantic actions.
The Missing <code>ACTION</code> wrappers will be automatically detected and throw a descriptive error message to ease migration.</p></li> <li><p>Grammar de-serialization support has been removed as it is now redundant as Chevrotain no longer relies on <code>Function.prototype.toString</code>.
And the de-serialization feature was a workaround to issues caused by <code>Function.prototype.toString</code>.
This means the <a href="https://sap.github.io/chevrotain/documentation/5_0_0/interfaces/iparserconfig.html#serializedgrammar" target="_blank" rel="noopener noreferrer">serializedGrammar property<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>
of the Parser's configuration was removed, and using it will cause an error to be thrown during initialization.</p></li> <li><p>The Parser's <a href="https://sap.github.io/chevrotain/documentation/6_0_0/classes/baseparser.html#getgastproductions" target="_blank" rel="noopener noreferrer">getGAstProductions method<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>
now returns a plain JavaScript object representing a Map/Dictionary rather than the Chevrotain's internal HashTable implementation.</p></li></ul> <h2 id="_5-0-0"><a href="#_5-0-0" aria-hidden="true" class="header-anchor">#</a> 5.0.0</h2> <ul><li>Setting the Parser's input <strong>before</strong> <code>this.performSelfAnalysis</code> is called will now throw an error.
This limitation is necessary in order to enable to enable the automatic detection of missing <code>this.performSelfAnalysis</code> calls.
To avoid this issue do <strong>not</strong> pass the input token vector input to the Parser's constructor and instead always set the input
after the Parser instance was created, This pattern is demonstrated in the tutorial:
<ul><li><a href="/chevrotain/docs/tutorial/step2_parsing.html#structure">Parser Constructor Structure.</a></li> <li><a href="/chevrotain/docs/tutorial/step2_parsing.html#usage">Setting the Token Vector Input.</a></li></ul></li></ul> <h2 id="_4-0-0"><a href="#_4-0-0" aria-hidden="true" class="header-anchor">#</a> 4.0.0</h2> <ul><li><p>The Parser constructor no longer accepts a token vector as an argument.
The &quot;input&quot; <strong>setter</strong> should be used instead, for example:</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token comment">// Old API</span>
<span class="token keyword">class</span> <span class="token class-name">MyOldParser</span> <span class="token keyword">extends</span> <span class="token class-name">Parser</span> <span class="token punctuation">{</span>
    <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token parameter">input<span class="token punctuation">,</span> config</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">super</span><span class="token punctuation">(</span>input<span class="token punctuation">,</span> allTokens<span class="token punctuation">,</span> config<span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">const</span> oldInstance <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">MyOldParser</span><span class="token punctuation">(</span>
    <span class="token punctuation">[</span>
        <span class="token comment">/* token vector */</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span><span class="token punctuation">}</span>
<span class="token punctuation">)</span>

<span class="token comment">// New API</span>
<span class="token keyword">class</span> <span class="token class-name">MyNewParser</span> <span class="token keyword">extends</span> <span class="token class-name">Parser</span> <span class="token punctuation">{</span>
    <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token parameter">config</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">super</span><span class="token punctuation">(</span>allTokens<span class="token punctuation">,</span> config<span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">const</span> newInstance <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">MyNewParser</span><span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">)</span>
newInstance<span class="token punctuation">.</span>input <span class="token operator">=</span> <span class="token punctuation">[</span>
    <span class="token comment">/* token vector */</span>
<span class="token punctuation">]</span>
</code></pre></div><ul><li>Note that the input <strong>setter</strong> has existed for a while and has been used
in the official examples and documentation, therefore it is likely that
only the constructor need be modified in existing parsers.</li></ul></li> <li><p>Automatic <a href="https://sap.github.io/chevrotain/docs/guide/concrete_syntax_tree.html" target="_blank" rel="noopener noreferrer">Concrete Syntax Tree<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> output is now enabled by default.
This means that parser which rely on <strong>embedded actions</strong> must <strong>explicitly</strong> disable
the CST output, for example:</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">class</span> <span class="token class-name">MyNewParser</span> <span class="token keyword">extends</span> <span class="token class-name">Parser</span> <span class="token punctuation">{</span>
    <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token comment">// we have to explicitly disable the CST building for embedded actions to work.</span>
        <span class="token keyword">super</span><span class="token punctuation">(</span>allTokens<span class="token punctuation">,</span> <span class="token punctuation">{</span> outputCst<span class="token punctuation">:</span> <span class="token boolean">false</span> <span class="token punctuation">}</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><ul><li>If a parser already uses CST output no change is needed in 4.0</li></ul></li> <li><p>DSL repetitions no longer return any values in <strong>embedded actions</strong> mode:</p> <ul><li><p><strong>MANY</strong> / <strong>AT_LEAST_ONE</strong> no longer return an array of the iteration results.
The iterations results should be collected manually instead:</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token comment">// Before 4.0.0</span>
<span class="token keyword">const</span> stmts <span class="token operator">=</span> $<span class="token punctuation">.</span><span class="token constant">MANY</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> $<span class="token punctuation">.</span><span class="token constant">SUBRULE</span><span class="token punctuation">(</span>Statement<span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>

<span class="token comment">// After 4.0.0</span>
<span class="token keyword">const</span> stmts <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>
$<span class="token punctuation">.</span><span class="token constant">MANY</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    stmts<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>$<span class="token punctuation">.</span><span class="token constant">SUBRULE</span><span class="token punctuation">(</span>Statement<span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre></div></li> <li><p>Similarly <strong>MANY_SEP</strong> / <strong>AT_LEAST_ONE_SEP</strong> also no longer return any results.
These used to return both the repetition result array and an array of separators Tokens consumed.
It is still possible to manually collect the repetition results, but not the separator tokens.</p></li> <li><p>This change has no effect when using automatic <strong>CST creation</strong>.</p></li></ul></li></ul> <h2 id="_3-0-0"><a href="#_3-0-0" aria-hidden="true" class="header-anchor">#</a> 3.0.0</h2> <ul><li><p>A CST Node's children dictionary no longer contains empty arrays
for unmatched terminals and non-terminals. This means that some existence checks
conditions in the CST visitor must be refactored, for example:</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">class</span> <span class="token class-name">MyVisitor</span> <span class="token keyword">extends</span> <span class="token class-name">SomeBaseVisitor</span> <span class="token punctuation">{</span>
    <span class="token function">atomicExpression</span><span class="token punctuation">(</span><span class="token parameter">ctx</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token comment">// BAD - will fail due to &quot;TypeError: Cannot read property '0' of undefined&quot;</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>ctx<span class="token punctuation">.</span>Integer<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">return</span> ctx<span class="token punctuation">.</span>Integer<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">.</span>image
        <span class="token punctuation">}</span>

        <span class="token comment">// GOOD - safe check</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>ctx<span class="token punctuation">.</span>Integer<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token comment">// if a property exists it's value is guaranteed to have at least one element.</span>
            <span class="token keyword">return</span> ctx<span class="token punctuation">.</span>Identifier<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">.</span>image
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div></li></ul> <h2 id="_2-0-0"><a href="#_2-0-0" aria-hidden="true" class="header-anchor">#</a> 2.0.0</h2> <ul><li><p>The creation of TokenTypes using the class keyword syntax has been soft deprecated.
and is no longer officially supported.
e.g:</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token comment">// No longer officially supported</span>
<span class="token keyword">class</span> <span class="token class-name">Identifier</span> <span class="token punctuation">{</span>
    <span class="token keyword">static</span> pattern <span class="token operator">=</span> <span class="token regex">/[a-zA-Z_]\w+/</span>
<span class="token punctuation">}</span>

<span class="token comment">// Use the createToken API instead</span>
<span class="token keyword">const</span> Identifier <span class="token operator">=</span> <span class="token function">createToken</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    name<span class="token punctuation">:</span> <span class="token string">&quot;Identifier&quot;</span><span class="token punctuation">,</span>
    pattern<span class="token punctuation">:</span> <span class="token regex">/[a-zA-Z_]\w+/</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre></div><p>See the reasoning in <a href="https://github.com/SAP/chevrotain/issues/653" target="_blank" rel="noopener noreferrer">this issue<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>.</p></li></ul> <ul><li><p>defaultErrorProvider was renamed to defaultParserErrorProvider</p></li> <li><p><strong>All</strong> the gast namespace was flattened into the API's root, e.g:</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token comment">// Old API - using nested namespace.</span>
chevrotain<span class="token punctuation">.</span>gast<span class="token punctuation">.</span>Alternation

<span class="token comment">// New API - No nested namespaces.</span>
chevrotain<span class="token punctuation">.</span>Alternation
</code></pre></div></li> <li><p>The exceptions namespace was also flattened into the API's root.</p></li> <li><p>The constructors of all the gast (Grammar AST) structure have been
refactored to use the config object pattern additionally some properties have been renamed or removed.
See the new SDK docs for details:</p> <ul><li><a href="https://sap.github.io/chevrotain/documentation/2_0_0/classes/rule.html" target="_blank" rel="noopener noreferrer">Rule<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li> <li><a href="https://sap.github.io/chevrotain/documentation/2_0_0/classes/terminal.html" target="_blank" rel="noopener noreferrer">Terminal<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li> <li><a href="https://sap.github.io/chevrotain/documentation/2_0_0/classes/nonterminal.html" target="_blank" rel="noopener noreferrer">NonTerminal<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li> <li><a href="https://sap.github.io/chevrotain/documentation/2_0_0/classes/alternation.html" target="_blank" rel="noopener noreferrer">Alternation<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li> <li><a href="https://sap.github.io/chevrotain/documentation/2_0_0/classes/option.html" target="_blank" rel="noopener noreferrer">Option<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li> <li><a href="https://sap.github.io/chevrotain/documentation/2_0_0/classes/repetition.html" target="_blank" rel="noopener noreferrer">Repetition<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li> <li><a href="https://sap.github.io/chevrotain/documentation/2_0_0/classes/repetitionwithseparator.html" target="_blank" rel="noopener noreferrer">RepetitionWithSeparator<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li> <li><a href="https://sap.github.io/chevrotain/documentation/2_0_0/classes/repetitionmandatory.html" target="_blank" rel="noopener noreferrer">RepetitionMandatory<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li> <li><a href="https://sap.github.io/chevrotain/documentation/2_0_0/classes/repetitionmandatorywithseparator.html" target="_blank" rel="noopener noreferrer">RepetitionMandatoryWithSeparator<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li> <li><a href="https://sap.github.io/chevrotain/documentation/2_0_0/classes/flat.html" target="_blank" rel="noopener noreferrer">Flat<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> (sequence)</li></ul></li></ul></div> <div class="page-edit"><div class="edit-link"><a href="https://github.com/SAP/chevrotain/edit/master/packages/chevrotain/docs/changes/BREAKING_CHANGES.md" target="_blank" rel="noopener noreferrer">Edit this page on GitHub</a> <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></div> <!----></div> <div class="page-nav"><p class="inner"><!----> <span class="next"><a href="/chevrotain/docs/changes/CHANGELOG.html">
          ChangeLog
        </a>
        →
      </span></p></div> </div> <!----></div></div>
    <script src="/chevrotain/docs/assets/js/app.594ff63e.js" defer></script><script src="/chevrotain/docs/assets/js/6.f976f29e.js" defer></script>
  </body>
</html>
