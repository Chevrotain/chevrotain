<!doctype html>
<html lang="en-US">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <meta name="generator" content="VuePress 2.0.0-rc.26" />
    <style>
      :root {
        --vp-c-bg: #fff;
      }

      [data-theme='dark'] {
        --vp-c-bg: #1b1b1f;
      }

      html,
      body {
        background-color: var(--vp-c-bg);
      }
    </style>
    <script>
      const useChoice = localStorage.getItem('vuepress-color-scheme')
      const systemStatus =
        'matchMedia' in window
          ? window.matchMedia('(prefers-color-scheme: dark)').matches
          : false

      if (useChoice === 'light') {
        document.documentElement.dataset.theme = 'light'
      } else if (useChoice === 'dark' || systemStatus) {
        document.documentElement.dataset.theme = 'dark'
      }
    </script>
    <title>Semantics | Chevrotain</title><meta name="description" content="Parser Building Toolkit for JavaScript">
    <link rel="preload" href="/docs/assets/style-C_1sbLzA.css" as="style"><link rel="stylesheet" href="/docs/assets/style-C_1sbLzA.css">
    <link rel="modulepreload" href="/docs/assets/app-vFZQlrE9.js"><link rel="modulepreload" href="/docs/assets/step3_adding_actions_root.html-OfvRyfg6.js">
    <link rel="prefetch" href="/docs/assets/FAQ.html-BJ2AIm_d.js" as="script"><link rel="prefetch" href="/docs/assets/index.html-ed1y4-HV.js" as="script"><link rel="prefetch" href="/docs/assets/BREAKING_CHANGES.html-BKAU_1mT.js" as="script"><link rel="prefetch" href="/docs/assets/CHANGELOG.html-YUByhnZL.js" as="script"><link rel="prefetch" href="/docs/assets/backtracking.html-BURlEQqt.js" as="script"><link rel="prefetch" href="/docs/assets/blazing_fast.html-CzqshpWL.js" as="script"><link rel="prefetch" href="/docs/assets/custom_errors.html-CAOofqrg.js" as="script"><link rel="prefetch" href="/docs/assets/custom_token_patterns.html-DQQC80D5.js" as="script"><link rel="prefetch" href="/docs/assets/easy_debugging.html-CTpQ-UTv.js" as="script"><link rel="prefetch" href="/docs/assets/fault_tolerance.html-ZyVjt7qe.js" as="script"><link rel="prefetch" href="/docs/assets/gates.html-DjZsY1LC.js" as="script"><link rel="prefetch" href="/docs/assets/grammar_inheritance.html-WUi56PpX.js" as="script"><link rel="prefetch" href="/docs/assets/lexer_modes.html-CrMLx4OY.js" as="script"><link rel="prefetch" href="/docs/assets/llk.html-LPd5of-m.js" as="script"><link rel="prefetch" href="/docs/assets/multiple_start_rules.html-B-96aZlj.js" as="script"><link rel="prefetch" href="/docs/assets/parameterized_rules.html-BwqfE2uh.js" as="script"><link rel="prefetch" href="/docs/assets/position_tracking.html-BXo7p3ps.js" as="script"><link rel="prefetch" href="/docs/assets/regexp.html-D3DlMijo.js" as="script"><link rel="prefetch" href="/docs/assets/separation.html-CE-6_DDP.js" as="script"><link rel="prefetch" href="/docs/assets/syntactic_content_assist.html-BAmdheNQ.js" as="script"><link rel="prefetch" href="/docs/assets/syntax_diagrams.html-Cx72m-CL.js" as="script"><link rel="prefetch" href="/docs/assets/token_alternative_matches.html-sfyo0rYI.js" as="script"><link rel="prefetch" href="/docs/assets/token_categories.html-BY36hRKM.js" as="script"><link rel="prefetch" href="/docs/assets/token_grouping.html-BYnB3EEK.js" as="script"><link rel="prefetch" href="/docs/assets/token_skipping.html-BjFypbBp.js" as="script"><link rel="prefetch" href="/docs/assets/concrete_syntax_tree.html-BJi5gwSE.js" as="script"><link rel="prefetch" href="/docs/assets/custom_token_patterns.html-BPw6Nu6O.js" as="script"><link rel="prefetch" href="/docs/assets/generating_syntax_diagrams.html-4WewMqqJ.js" as="script"><link rel="prefetch" href="/docs/assets/initialization_performance.html-BJSCG0rE.js" as="script"><link rel="prefetch" href="/docs/assets/internals.html-CSfC9HLc.js" as="script"><link rel="prefetch" href="/docs/assets/introduction.html-C9ZlpPpf.js" as="script"><link rel="prefetch" href="/docs/assets/performance.html-CqM7_CtH.js" as="script"><link rel="prefetch" href="/docs/assets/resolving_grammar_errors.html-hRNxhO5g.js" as="script"><link rel="prefetch" href="/docs/assets/resolving_lexer_errors.html-DmOB0DMw.js" as="script"><link rel="prefetch" href="/docs/assets/syntactic_content_assist.html-7V3ot78l.js" as="script"><link rel="prefetch" href="/docs/assets/step0_introduction.html-BZngySv9.js" as="script"><link rel="prefetch" href="/docs/assets/step1_lexing.html-DLbZZ2io.js" as="script"><link rel="prefetch" href="/docs/assets/step2_parsing.html-CrWYax8K.js" as="script"><link rel="prefetch" href="/docs/assets/step3a_adding_actions_visitor.html-DPUnTSJk.js" as="script"><link rel="prefetch" href="/docs/assets/step3b_adding_actions_embedded.html-CiljU-fY.js" as="script"><link rel="prefetch" href="/docs/assets/step4_fault_tolerance.html-3IDu_34c.js" as="script"><link rel="prefetch" href="/docs/assets/404.html-BCChjLns.js" as="script"><link rel="prefetch" href="/docs/assets/index-BuqEEp8M.js" as="script">
  </head>
  <body>
    <div id="app"><!--[--><div class="vp-theme-container external-link-icon" vp-container><!--[--><header class="vp-navbar" vp-navbar><div class="vp-toggle-sidebar-button" title="toggle sidebar" aria-expanded="false" role="button" tabindex="0"><div class="icon" aria-hidden="true"><span></span><span></span><span></span></div></div><span><a class="route-link" href="/docs/"><!----><span class="vp-site-name" aria-hidden="true">Chevrotain</span></a></span><div class="vp-navbar-items-wrapper" style=""><!--[--><!--]--><nav class="vp-navbar-items vp-hide-mobile" aria-label="site navigation"><!--[--><div class="vp-navbar-item"><a class="route-link auto-link" href="/docs/" aria-label="Home"><!--[--><!--[--><!--]--><!--]-->Home<!--[--><!--[--><!--]--><!--]--></a></div><div class="vp-navbar-item"><a class="route-link auto-link" href="/docs/features/blazing_fast.html" aria-label="Features"><!--[--><!--[--><!--]--><!--]-->Features<!--[--><!--[--><!--]--><!--]--></a></div><div class="vp-navbar-item"><a class="route-link auto-link" href="/docs/tutorial/step0_introduction.html" aria-label="Tutorial"><!--[--><!--[--><!--]--><!--]-->Tutorial<!--[--><!--[--><!--]--><!--]--></a></div><div class="vp-navbar-item"><a class="route-link auto-link" href="/docs/guide/introduction.html" aria-label="Guide"><!--[--><!--[--><!--]--><!--]-->Guide<!--[--><!--[--><!--]--><!--]--></a></div><div class="vp-navbar-item"><a class="route-link auto-link" href="/docs/FAQ.html" aria-label="FAQ"><!--[--><!--[--><!--]--><!--]-->FAQ<!--[--><!--[--><!--]--><!--]--></a></div><div class="vp-navbar-item"><a class="route-link auto-link" href="/docs/changes/BREAKING_CHANGES.html" aria-label="Changes"><!--[--><!--[--><!--]--><!--]-->Changes<!--[--><!--[--><!--]--><!--]--></a></div><div class="vp-navbar-item"><a class="auto-link external-link" href="https://chevrotain.io/documentation/11_1_2/index.html" aria-label="APIs" rel="noopener noreferrer" target="_blank"><!--[--><!--[--><!--]--><!--]-->APIs<!--[--><!--[--><!--]--><!--]--></a></div><div class="vp-navbar-item"><a class="auto-link external-link" href="https://chevrotain.io/playground/" aria-label="Playground" rel="noopener noreferrer" target="_blank"><!--[--><!--[--><!--]--><!--]-->Playground<!--[--><!--[--><!--]--><!--]--></a></div><div class="vp-navbar-item"><a class="auto-link external-link" href="https://chevrotain.io/performance/" aria-label="Benchmark" rel="noopener noreferrer" target="_blank"><!--[--><!--[--><!--]--><!--]-->Benchmark<!--[--><!--[--><!--]--><!--]--></a></div><div class="vp-navbar-item"><a class="auto-link external-link" href="https://github.com/Chevrotain/chevrotain/discussions" aria-label="Discussions" rel="noopener noreferrer" target="_blank"><!--[--><!--[--><!--]--><!--]-->Discussions<!--[--><!--[--><!--]--><!--]--></a></div><div class="vp-navbar-item"><a class="auto-link external-link" href="https://github.com/chevrotain/chevrotain" aria-label="GitHub" rel="noopener noreferrer" target="_blank"><!--[--><!--[--><!--]--><!--]-->GitHub<!--[--><!--[--><!--]--><!--]--></a></div><!--]--></nav><!--[--><!--]--><button type="button" class="vp-toggle-color-mode-button" title="toggle color mode"><svg class="light-icon" viewbox="0 0 32 32" style=""><path d="M16 12.005a4 4 0 1 1-4 4a4.005 4.005 0 0 1 4-4m0-2a6 6 0 1 0 6 6a6 6 0 0 0-6-6z" fill="currentColor"></path><path d="M5.394 6.813l1.414-1.415l3.506 3.506L8.9 10.318z" fill="currentColor"></path><path d="M2 15.005h5v2H2z" fill="currentColor"></path><path d="M5.394 25.197L8.9 21.691l1.414 1.415l-3.506 3.505z" fill="currentColor"></path><path d="M15 25.005h2v5h-2z" fill="currentColor"></path><path d="M21.687 23.106l1.414-1.415l3.506 3.506l-1.414 1.414z" fill="currentColor"></path><path d="M25 15.005h5v2h-5z" fill="currentColor"></path><path d="M21.687 8.904l3.506-3.506l1.414 1.415l-3.506 3.505z" fill="currentColor"></path><path d="M15 2.005h2v5h-2z" fill="currentColor"></path></svg><svg class="dark-icon" viewbox="0 0 32 32" style="display:none;"><path d="M13.502 5.414a15.075 15.075 0 0 0 11.594 18.194a11.113 11.113 0 0 1-7.975 3.39c-.138 0-.278.005-.418 0a11.094 11.094 0 0 1-3.2-21.584M14.98 3a1.002 1.002 0 0 0-.175.016a13.096 13.096 0 0 0 1.825 25.981c.164.006.328 0 .49 0a13.072 13.072 0 0 0 10.703-5.555a1.01 1.01 0 0 0-.783-1.565A13.08 13.08 0 0 1 15.89 4.38A1.015 1.015 0 0 0 14.98 3z" fill="currentColor"></path></svg></button><!--[--><div id="docsearch-container" style="display:none;"></div><div class="docsearch-placeholder"><button type="button" aria-label="Search" aria-keyshortcuts="Control+k" class="DocSearch DocSearch-Button"><span class="DocSearch-Button-Container"><svg width="20" height="20" viewBox="0 0 24 24" aria-hidden="true" class="DocSearch-Search-Icon"><circle cx="11" cy="11" r="8" stroke="currentColor" fill="none" stroke-width="1.4"></circle><path d="m21 21-4.3-4.3" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">Search</span></span><span class="DocSearch-Button-Keys"><kbd class="DocSearch-Button-Key DocSearch-Button-Key--ctrl">Ctrl</kbd><kbd class="DocSearch-Button-Key">K</kbd></span></button></div><!--]--></div></header><!--]--><div class="vp-sidebar-mask"></div><!--[--><aside class="vp-sidebar" vp-sidebar><nav class="vp-navbar-items" aria-label="site navigation"><!--[--><div class="vp-navbar-item"><a class="route-link auto-link" href="/docs/" aria-label="Home"><!--[--><!--[--><!--]--><!--]-->Home<!--[--><!--[--><!--]--><!--]--></a></div><div class="vp-navbar-item"><a class="route-link auto-link" href="/docs/features/blazing_fast.html" aria-label="Features"><!--[--><!--[--><!--]--><!--]-->Features<!--[--><!--[--><!--]--><!--]--></a></div><div class="vp-navbar-item"><a class="route-link auto-link" href="/docs/tutorial/step0_introduction.html" aria-label="Tutorial"><!--[--><!--[--><!--]--><!--]-->Tutorial<!--[--><!--[--><!--]--><!--]--></a></div><div class="vp-navbar-item"><a class="route-link auto-link" href="/docs/guide/introduction.html" aria-label="Guide"><!--[--><!--[--><!--]--><!--]-->Guide<!--[--><!--[--><!--]--><!--]--></a></div><div class="vp-navbar-item"><a class="route-link auto-link" href="/docs/FAQ.html" aria-label="FAQ"><!--[--><!--[--><!--]--><!--]-->FAQ<!--[--><!--[--><!--]--><!--]--></a></div><div class="vp-navbar-item"><a class="route-link auto-link" href="/docs/changes/BREAKING_CHANGES.html" aria-label="Changes"><!--[--><!--[--><!--]--><!--]-->Changes<!--[--><!--[--><!--]--><!--]--></a></div><div class="vp-navbar-item"><a class="auto-link external-link" href="https://chevrotain.io/documentation/11_1_2/index.html" aria-label="APIs" rel="noopener noreferrer" target="_blank"><!--[--><!--[--><!--]--><!--]-->APIs<!--[--><!--[--><!--]--><!--]--></a></div><div class="vp-navbar-item"><a class="auto-link external-link" href="https://chevrotain.io/playground/" aria-label="Playground" rel="noopener noreferrer" target="_blank"><!--[--><!--[--><!--]--><!--]-->Playground<!--[--><!--[--><!--]--><!--]--></a></div><div class="vp-navbar-item"><a class="auto-link external-link" href="https://chevrotain.io/performance/" aria-label="Benchmark" rel="noopener noreferrer" target="_blank"><!--[--><!--[--><!--]--><!--]-->Benchmark<!--[--><!--[--><!--]--><!--]--></a></div><div class="vp-navbar-item"><a class="auto-link external-link" href="https://github.com/Chevrotain/chevrotain/discussions" aria-label="Discussions" rel="noopener noreferrer" target="_blank"><!--[--><!--[--><!--]--><!--]-->Discussions<!--[--><!--[--><!--]--><!--]--></a></div><div class="vp-navbar-item"><a class="auto-link external-link" href="https://github.com/chevrotain/chevrotain" aria-label="GitHub" rel="noopener noreferrer" target="_blank"><!--[--><!--[--><!--]--><!--]-->GitHub<!--[--><!--[--><!--]--><!--]--></a></div><!--]--></nav><!--[--><!--]--><ul class="vp-sidebar-items"><!--[--><li><p tabindex="0" class="vp-sidebar-item vp-sidebar-heading active">Tutorial <!----></p><ul class="vp-sidebar-children" style=""><!--[--><li><a class="route-link auto-link vp-sidebar-item" href="/docs/tutorial/step0_introduction.html" aria-label="Introduction"><!--[--><!--[--><!--]--><!--]-->Introduction<!--[--><!--[--><!--]--><!--]--></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/docs/tutorial/step1_lexing.html" aria-label="Lexer"><!--[--><!--[--><!--]--><!--]-->Lexer<!--[--><!--[--><!--]--><!--]--></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/docs/tutorial/step2_parsing.html" aria-label="Parser"><!--[--><!--[--><!--]--><!--]-->Parser<!--[--><!--[--><!--]--><!--]--></a><!----></li><li><a class="route-link route-link-active auto-link vp-sidebar-item active" href="/docs/tutorial/step3_adding_actions_root.html" aria-label="Semantics"><!--[--><!--[--><!--]--><!--]-->Semantics<!--[--><!--[--><!--]--><!--]--></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/docs/tutorial/step3a_adding_actions_visitor.html" aria-label="Semantics - CST Visitor"><!--[--><!--[--><!--]--><!--]-->Semantics - CST Visitor<!--[--><!--[--><!--]--><!--]--></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/docs/tutorial/step3b_adding_actions_embedded.html" aria-label="Semantics - Embedded"><!--[--><!--[--><!--]--><!--]-->Semantics - Embedded<!--[--><!--[--><!--]--><!--]--></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/docs/tutorial/step4_fault_tolerance.html" aria-label="Fault Tolerance"><!--[--><!--[--><!--]--><!--]-->Fault Tolerance<!--[--><!--[--><!--]--><!--]--></a><!----></li><!--]--></ul></li><!--]--></ul><!--[--><!--]--></aside><!--]--><!--[--><main class="vp-page"><!--[--><!--]--><div vp-content><!--[--><!--]--><div id="content"><h1 id="semantics" tabindex="-1"><a class="header-anchor" href="#semantics"><span>Semantics</span></a></h1><h2 id="introduction" tabindex="-1"><a class="header-anchor" href="#introduction"><span>Introduction</span></a></h2><p>In the <a class="route-link" href="/docs/tutorial/step2_parsing.html">previous</a> tutorial step we have implemented a parser for a &quot;mini&quot; SQL Select grammar. The current problem is that our parser only validates that the input conforms to the grammar. In most real world use cases the parser will also have to output some result or data structure.</p><p>We refer to the logic that computes that result or builds that data structure as the <strong>Grammar Semantics</strong>.</p><h2 id="alternatives" tabindex="-1"><a class="header-anchor" href="#alternatives"><span>Alternatives</span></a></h2><p>Chevrotain supports two <strong>very different</strong> solutions to this problem:</p><ul><li><p><strong>Separation</strong> of grammar (syntax) and user actions (semantics) using a <strong>CST Visitor</strong>.</p><ul><li><a href="https://github.com/chevrotain/chevrotain/blob/master/examples/grammars/calculator/calculator_pure_grammar.js" target="_blank" rel="noopener noreferrer">Example</a></li></ul></li><li><p><strong>Embedding</strong> user actions (semantics) inside the grammar rules.</p><ul><li><a href="https://github.com/chevrotain/chevrotain/blob/master/examples/grammars/calculator/calculator_embedded_actions.js" target="_blank" rel="noopener noreferrer">Example</a></li></ul></li></ul><p>Before we continue, one of the two approaches must be chosen.</p><p>The main difference between the two approaches is with regard to the question: <strong>Where are the semantics (user actions) implemented?</strong></p><p>When using a CST Visitor, the semantics are <strong>completely separated</strong> from the grammar. They could even be implemented in a <strong>different</strong> file. This has great benefits for the parser&#39;s ease of <strong>maintenance</strong> and its <strong>re-usability</strong>. Thus, using a CST Visitor is the <strong>recommended approach</strong>.</p><p>That is not to say there are no use cases in which <strong>embedded actions</strong> are better. The main advantage of embedded actions is their <strong>performance</strong>. Embedded actions are about 50% faster than using a CST Visitor. This may sound like an unbeatable advantage but that is not the case:</p><ul><li><p>Chevrotain is <a href="https://chevrotain.io/performance/" target="_blank" rel="noopener noreferrer">so fast</a> that even with that performance penalty it would beat other parsing solutions.</p><ul><li>Tested on Modern V8</li></ul></li><li><p>The parsing step is normally just one step in a larger flow. A large performance penalty in one step does not equate to a large performance penalty in the whole flow.</p></li></ul><p>Using Embedded actions may also require a better understanding of the Chevrotain Internals. See: <a class="route-link" href="/docs/guide/internals.html#grammar-recording">Grammar Recording</a> guide.</p><h2 id="summary" tabindex="-1"><a class="header-anchor" href="#summary"><span>Summary</span></a></h2><ul><li>It is recommended to use a CST Visitor to separate the semantics (actions) from the syntax (grammar).</li><li>Prefer embedding the semantics (actions) in the grammar only in use cases where performance is of utmost concern.</li></ul><h4 id="what-is-next" tabindex="-1"><a class="header-anchor" href="#what-is-next"><span>What is Next?</span></a></h4><p>Choose the semantic actions model you prefer:</p><ol><li>Next step in the tutorial: <a class="route-link" href="/docs/tutorial/step3a_adding_actions_visitor.html">Semantics - CST Visitor</a>.</li><li>Next step in the tutorial: <a class="route-link" href="/docs/tutorial/step3b_adding_actions_embedded.html">Semantics - Embedded Actions</a>.</li></ol></div><!--[--><!--]--></div><footer class="vp-page-meta"><div class="vp-meta-item edit-link"><a class="auto-link external-link label" href="https://github.com/chevrotain/chevrotain/edit/master/packages/website/docs/tutorial/step3_adding_actions_root.md" aria-label="Edit this page on GitHub" rel="noopener noreferrer" target="_blank"><!--[--><!--[--><svg class="edit-icon" viewbox="0 0 1024 1024"><g fill="currentColor"><path d="M430.818 653.65a60.46 60.46 0 0 1-50.96-93.281l71.69-114.012 7.773-10.365L816.038 80.138A60.46 60.46 0 0 1 859.225 62a60.46 60.46 0 0 1 43.186 18.138l43.186 43.186a60.46 60.46 0 0 1 0 86.373L588.879 565.55l-8.637 8.637-117.466 68.234a60.46 60.46 0 0 1-31.958 11.229z"></path><path d="M728.802 962H252.891A190.883 190.883 0 0 1 62.008 771.98V296.934a190.883 190.883 0 0 1 190.883-192.61h267.754a60.46 60.46 0 0 1 0 120.92H252.891a69.962 69.962 0 0 0-69.098 69.099V771.98a69.962 69.962 0 0 0 69.098 69.098h475.911A69.962 69.962 0 0 0 797.9 771.98V503.363a60.46 60.46 0 1 1 120.922 0V771.98A190.883 190.883 0 0 1 728.802 962z"></path></g></svg><!--]--><!--]-->Edit this page on GitHub<!--[--><!--[--><!--]--><!--]--></a></div><div class="vp-meta-item git-info"><div class="vp-meta-item last-updated"><span class="meta-item-label">Last Updated: </span><time class="meta-item-info" datetime="2026-02-27T18:20:17.000Z" data-allow-mismatch>2/27/26, 8:20 PM</time></div><div class="vp-meta-item contributors"><span class="meta-item-label">Contributors: </span><span class="meta-item-info"><!--[--><!--[--><span class="contributor" title="email: shahar.soel@gmail.com">Shahar Soel</span><!--[-->, <!--]--><!--]--><!--[--><span class="contributor" title="email: thaggie@gmail.com">Tom Haggie</span><!--[-->, <!--]--><!--]--><!--[--><span class="contributor" title="email: shachar.soel@sap.com">Soel</span><!--[-->, <!--]--><!--]--><!--[--><span class="contributor" title="email: 35242872+nothingismagick@users.noreply.github.com">nothingismagick</span><!--[-->, <!--]--><!--]--><!--[--><span class="contributor" title="email: shahars@protonmail.com">bd82</span><!----><!--]--><!--]--></span></div></div></footer><nav class="vp-page-nav" aria-label="page navigation"><a class="route-link auto-link prev" href="/docs/tutorial/step2_parsing.html" aria-label="Parser"><!--[--><div class="hint"><span class="arrow left"></span> Prev</div><div class="link"><span class="external-link">Parser</span></div><!--]--></a><a class="route-link auto-link next" href="/docs/tutorial/step3a_adding_actions_visitor.html" aria-label="Semantics - CST Visitor"><!--[--><div class="hint">Next <span class="arrow right"></span></div><div class="link"><span class="external-link">Semantics - CST Visitor</span></div><!--]--></a></nav><!--[--><!--]--></main><!--]--></div><!--[--><!----><!--]--><!--]--></div>
    <script type="module" src="/docs/assets/app-vFZQlrE9.js" defer></script>
  </body>
</html>
